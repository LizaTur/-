#Прямая перестановка элементов массива (permute)
function _permute!(A, p)
for i in eachindex(p)
if p[i] < 0
continue
end
# i - начало очередной циклической перестановки индексов массива
A
buff = A[i]
j_prew, j = i, p[i] # - индекс элемента исходного массива, который
требуется переместить на i-ю позицию
p[i] = -p[i]
while j != i # - пока циклическая перестановка индексов не
"замкнулась"
A[j_prew] = A[j]
j_prew, j = j, p[j]
p[j_prew] = -p[j_prew]
end
A[j_prew] = buff
# перемещения элементов массива A по очередному циклу (по очередной
циклической перестановке индексов) полностью завершены
end
for i in eachindex(p)
p[i] = -p[i]
end
return A
end
